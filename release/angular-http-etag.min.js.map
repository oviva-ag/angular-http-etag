{"version":3,"sources":["webpack://http-etag/webpack/universalModuleDefinition","webpack://http-etag/webpack/bootstrap","webpack://http-etag/external \"angular\"","webpack://http-etag/./node_modules/array-map/index.js","webpack://http-etag/./node_modules/object-keys/index.js","webpack://http-etag/./node_modules/object-keys/isArguments.js","webpack://http-etag/./src/service.js","webpack://http-etag/./src/httpDecorator.js","webpack://http-etag/./src/httpInterceptor.js","webpack://http-etag/./src/cacheServiceAdapters.js","webpack://http-etag/./src/index.js"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__0__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","xs","f","map","res","length","x","hasOwn","push","has","toStr","toString","slice","Array","isArgs","isEnumerable","propertyIsEnumerable","hasDontEnumBug","hasProtoEnumBug","dontEnums","equalsConstructorPrototype","ctor","constructor","excludedKeys","$applicationCache","$console","$external","$frame","$frameElement","$frames","$innerHeight","$innerWidth","$outerHeight","$outerWidth","$pageXOffset","$pageYOffset","$parent","$scrollLeft","$scrollTop","$scrollX","$scrollY","$self","$webkitIndexedDB","$webkitStorageInfo","$window","hasAutomationEqualityBug","k","e","keysShim","isObject","isFunction","isArguments","isString","theKeys","TypeError","skipProto","String","j","skipConstructor","equalsConstructorPrototypeIfNotBuggy","shim","keys","arguments","originalKeys","str","callee","src_service","httpEtagProvider","this","serviceAdapterMethods","cacheAdapterMethods","requiredAdapterMethods","concat","cacheAdapters","cacheDefinitions","defaultCacheId","defaultEtagCacheConfig","cacheResponseData","cacheService","cacheOptions","number","setDefaultCacheConfig","config","external_angular_default","a","extend","getDefaultCacheConfig","defineCache","cacheId","id","defineCacheServiceAdapter","serviceName","Error","methods","forEach","method","getCacheServiceAdapter","$get","$injector","httpEtagService","services","adaptedServices","caches","adaptedCaches","adapter","service","adaptedService","createCache","cache","getCache","adaptedCache","copy","wrappedMethod","wrappedRawMethod","adapterMethod","itemKey","options","cachedData","responseData","$getItem","unsetItem","setItem","undefined","expireItem","data","etagHeader","$setItem","getItemCache","info","isCache","type","processCacheId","itemCache","itemCacheInfo","isItemCache","purgeCaches","removeAllItems","httpDecorator","httpEtagHttpDecorator","$delegate","httpEtag","$http","cachableHttpMethods","$httpDecorator","httpConfig","httpPromise","useLegacyPromiseExtensions","hasConfig","etagCache","isCacheableMethod","indexOf","etagCacheConfig","etagValue","etagValueType","generateCacheItemKey","processHttpConfigEtagValue","cacheInfo","rawCacheData","cachedEtag","cachedResponse","$$_itemCache","headers","If-None-Match","httpEtagPromiseFactory","then","success","cached","callback","ifCached","status","successCallback","errorCallback","progressBackCallback","thenPromise","apply","response","partializedCallback","fn","args","arg","partial","url","params","obj","array_map_default","object_keys_default","sort","val","isArray","val2","encodeURIComponent","join","stringifyParams","joiner","httpMethod","toLowerCase","$inject","httpInterceptor","etag","cacheData","$set","cacheServiceAdapters","cacheAdaptersConfig","storesDeepCopies","$cacheFactory","put","getItem","removeItem","remove","removeAll","noop","localStorage","JSON","stringify","parse","keyPrefix","sessionStorage","__webpack_exports__","provider","$provide","$httpProvider","version","major","minor","decorator","interceptors"],"mappings":"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","file":"angular-http-etag.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"angular\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"angular\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"http-etag\"] = factory(require(\"angular\"));\n\telse\n\t\troot[\"http-etag\"] = factory(root[\"angular\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","module.exports = function (xs, f) {\n    if (xs.map) return xs.map(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        var x = xs[i];\n        if (hasOwn.call(xs, i)) res.push(f(x, i, xs));\n    }\n    return res;\n};\n\nvar hasOwn = Object.prototype.hasOwnProperty;\n","'use strict';\n\n// modified from https://github.com/es-shims/es5-shim\nvar has = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar slice = Array.prototype.slice;\nvar isArgs = require('./isArguments');\nvar isEnumerable = Object.prototype.propertyIsEnumerable;\nvar hasDontEnumBug = !isEnumerable.call({ toString: null }, 'toString');\nvar hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');\nvar dontEnums = [\n\t'toString',\n\t'toLocaleString',\n\t'valueOf',\n\t'hasOwnProperty',\n\t'isPrototypeOf',\n\t'propertyIsEnumerable',\n\t'constructor'\n];\nvar equalsConstructorPrototype = function (o) {\n\tvar ctor = o.constructor;\n\treturn ctor && ctor.prototype === o;\n};\nvar excludedKeys = {\n\t$applicationCache: true,\n\t$console: true,\n\t$external: true,\n\t$frame: true,\n\t$frameElement: true,\n\t$frames: true,\n\t$innerHeight: true,\n\t$innerWidth: true,\n\t$outerHeight: true,\n\t$outerWidth: true,\n\t$pageXOffset: true,\n\t$pageYOffset: true,\n\t$parent: true,\n\t$scrollLeft: true,\n\t$scrollTop: true,\n\t$scrollX: true,\n\t$scrollY: true,\n\t$self: true,\n\t$webkitIndexedDB: true,\n\t$webkitStorageInfo: true,\n\t$window: true\n};\nvar hasAutomationEqualityBug = (function () {\n\t/* global window */\n\tif (typeof window === 'undefined') { return false; }\n\tfor (var k in window) {\n\t\ttry {\n\t\t\tif (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {\n\t\t\t\ttry {\n\t\t\t\t\tequalsConstructorPrototype(window[k]);\n\t\t\t\t} catch (e) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}());\nvar equalsConstructorPrototypeIfNotBuggy = function (o) {\n\t/* global window */\n\tif (typeof window === 'undefined' || !hasAutomationEqualityBug) {\n\t\treturn equalsConstructorPrototype(o);\n\t}\n\ttry {\n\t\treturn equalsConstructorPrototype(o);\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n\nvar keysShim = function keys(object) {\n\tvar isObject = object !== null && typeof object === 'object';\n\tvar isFunction = toStr.call(object) === '[object Function]';\n\tvar isArguments = isArgs(object);\n\tvar isString = isObject && toStr.call(object) === '[object String]';\n\tvar theKeys = [];\n\n\tif (!isObject && !isFunction && !isArguments) {\n\t\tthrow new TypeError('Object.keys called on a non-object');\n\t}\n\n\tvar skipProto = hasProtoEnumBug && isFunction;\n\tif (isString && object.length > 0 && !has.call(object, 0)) {\n\t\tfor (var i = 0; i < object.length; ++i) {\n\t\t\ttheKeys.push(String(i));\n\t\t}\n\t}\n\n\tif (isArguments && object.length > 0) {\n\t\tfor (var j = 0; j < object.length; ++j) {\n\t\t\ttheKeys.push(String(j));\n\t\t}\n\t} else {\n\t\tfor (var name in object) {\n\t\t\tif (!(skipProto && name === 'prototype') && has.call(object, name)) {\n\t\t\t\ttheKeys.push(String(name));\n\t\t\t}\n\t\t}\n\t}\n\n\tif (hasDontEnumBug) {\n\t\tvar skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n\n\t\tfor (var k = 0; k < dontEnums.length; ++k) {\n\t\t\tif (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {\n\t\t\t\ttheKeys.push(dontEnums[k]);\n\t\t\t}\n\t\t}\n\t}\n\treturn theKeys;\n};\n\nkeysShim.shim = function shimObjectKeys() {\n\tif (Object.keys) {\n\t\tvar keysWorksWithArguments = (function () {\n\t\t\t// Safari 5.0 bug\n\t\t\treturn (Object.keys(arguments) || '').length === 2;\n\t\t}(1, 2));\n\t\tif (!keysWorksWithArguments) {\n\t\t\tvar originalKeys = Object.keys;\n\t\t\tObject.keys = function keys(object) { // eslint-disable-line func-name-matching\n\t\t\t\tif (isArgs(object)) {\n\t\t\t\t\treturn originalKeys(slice.call(object));\n\t\t\t\t} else {\n\t\t\t\t\treturn originalKeys(object);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t} else {\n\t\tObject.keys = keysShim;\n\t}\n\treturn Object.keys || keysShim;\n};\n\nmodule.exports = keysShim;\n","'use strict';\n\nvar toStr = Object.prototype.toString;\n\nmodule.exports = function isArguments(value) {\n\tvar str = toStr.call(value);\n\tvar isArgs = str === '[object Arguments]';\n\tif (!isArgs) {\n\t\tisArgs = str !== '[object Array]' &&\n\t\t\tvalue !== null &&\n\t\t\ttypeof value === 'object' &&\n\t\t\ttypeof value.length === 'number' &&\n\t\t\tvalue.length >= 0 &&\n\t\t\ttoStr.call(value.callee) === '[object Function]';\n\t}\n\treturn isArgs;\n};\n","import angular from 'angular'\n\nexport default httpEtagProvider\n\nfunction httpEtagProvider () {\n  var httpEtagProvider = this\n\n  var serviceAdapterMethods = [\n    'createCache',\n    'getCache'\n  ]\n\n  var cacheAdapterMethods = [\n    'setItem',\n    'getItem',\n    'removeItem',\n    'removeAllItems'\n    // info method hard-coded\n  ]\n\n  var requiredAdapterMethods = serviceAdapterMethods.concat(cacheAdapterMethods)\n\n  // Built-in adapters defined in ./cacheServiceAdapters.js\n  var cacheAdapters = {}\n  var cacheDefinitions = {}\n\n  // Cache config defaults\n  var defaultCacheId = 'httpEtagCache'\n  var defaultEtagCacheConfig = {\n    cacheResponseData: true,\n    cacheService: '$cacheFactory',\n    cacheOptions: {\n      number: 128\n    }\n  }\n\n  /**\n   * SERVICE PROVIDER\n   * .setDefaultCacheConfig(config)\n   * .defineCache(cacheId, config)\n   * .defineCacheServiceAdapter(serviceName, config)\n   * .getCacheServiceAdapter(serviceName)\n   */\n\n  httpEtagProvider.setDefaultCacheConfig = function httpEtagSetDefaultCacheOptions (config) {\n    defaultEtagCacheConfig = angular.extend({}, defaultEtagCacheConfig, config)\n    return httpEtagProvider\n  }\n\n  httpEtagProvider.getDefaultCacheConfig = function httpEtagGetDefaultCacheOptions () {\n    return defaultEtagCacheConfig\n  }\n\n  httpEtagProvider.defineCache = function httpEtagDefineCache (cacheId, config) {\n    config = angular.extend({}, defaultEtagCacheConfig, config, { id: cacheId })\n    cacheDefinitions[cacheId] = config\n    return httpEtagProvider\n  }\n\n  httpEtagProvider.defineCacheServiceAdapter = function httpEtagDefineCacheServiceAdapter (serviceName, config) {\n    if (!config) throw new Error('Missing cache service adapter configuration')\n    if (!config.methods) throw new Error('Missing cache service adapter configuration methods')\n    angular.forEach(requiredAdapterMethods, function (method) {\n      if (typeof config.methods[method] !== 'function') {\n        throw new Error('Expected cache service adapter method \"' + method + '\" to be a function')\n      }\n    })\n\n    cacheAdapters[serviceName] = config\n    return httpEtagProvider\n  }\n\n  httpEtagProvider.getCacheServiceAdapter = function httpEtagGetCacheServiceAdapter (serviceName) {\n    return cacheAdapters[serviceName]\n  }\n\n  /**\n   * SERVICE\n   * .info()\n   * .getCache(acheId)\n   * .getItemCache(cacheId, itemKey)\n   */\n\n  httpEtagProvider.$get = ['$injector', function httpEtagFactory ($injector) {\n    var httpEtagService = {}\n\n    var services = {}\n    var adaptedServices = {}\n    var caches = {}\n    var adaptedCaches = {}\n\n    // Add default cache if not already defined\n    if (!cacheDefinitions[defaultCacheId]) httpEtagProvider.defineCache(defaultCacheId)\n\n    // Find/inject cache service and create adapted versions\n    angular.forEach(cacheAdapters, function adaptCacheService (adapter, serviceName) {\n      var service = services[serviceName] = window[serviceName] || $injector.get(serviceName)\n      var adaptedService = adaptedServices[serviceName] = {}\n\n      angular.forEach(serviceAdapterMethods, function (method) {\n        adaptedService[method] = angular.bind({}, adapter.methods[method], service)\n      })\n    })\n\n    // Instantiate caches and create adapted versions\n    angular.forEach(cacheDefinitions, function adaptCache (config, cacheId) {\n      adaptedServices[config.cacheService].createCache(cacheId, config)\n      var cache = caches[cacheId] = adaptedServices[config.cacheService].getCache(cacheId)\n      var adaptedCache = adaptedCaches[cacheId] = {}\n      // Determine whether to perform deepcopying or not\n      var copy = function (value) {\n        return value\n      }\n\n      angular.forEach(cacheAdapterMethods, function (method) {\n        var adapterMethod = cacheAdapters[config.cacheService].methods[method]\n        var wrappedMethod\n        var wrappedRawMethod\n\n        // Wrap set/get methods to set/get to the `responseData` property of an\n        // object. This is where the $http interceptor stores response data.\n        if (method === 'getItem') {\n          wrappedMethod = function getCacheItemResponseData (cache, itemKey, options) {\n            var cachedData = adapterMethod(cache, itemKey, options)\n            return cachedData && copy(cachedData.responseData)\n          }\n\n          wrappedRawMethod = function getCacheItemData (cache, itemKey, options) {\n            return copy(adapterMethod(cache, itemKey, options))\n          }\n        }\n\n        if (method === 'setItem') {\n          wrappedMethod = function setCacheItemResponseData (cache, itemKey, value, options) {\n            var cachedData = adaptedCache.$getItem(itemKey)\n            value = copy(value)\n\n            if (cachedData && typeof cachedData === 'object') {\n              cachedData.responseData = value\n              value = cachedData\n            } else value = { responseData: value }\n\n            adapterMethod(cache, itemKey, value, options)\n          }\n\n          wrappedRawMethod = function setCacheItemData (cache, itemKey, value, options) {\n            adapterMethod(cache, itemKey, copy(value), options)\n          }\n        }\n\n        adaptedCache[method] = angular.bind({}, (wrappedMethod || adapterMethod), cache)\n        if (wrappedRawMethod) {\n          adaptedCache['$' + method] = angular.bind({}, wrappedRawMethod, cache)\n        }\n      })\n\n      adaptedCache.unsetItem = function adaptedCacheUnsetItemCache (itemKey) {\n        adaptedCache.setItem(itemKey, undefined)\n      }\n      adaptedCache.expireItem = function adaptedCacheUnsetItemCache (itemKey) {\n        var data = adaptedCache.$getItem(itemKey)\n        delete data.etagHeader\n        adaptedCache.$setItem(itemKey, data)\n      }\n      adaptedCache.getItemCache = function adaptedCacheGetItemCache (itemKey) {\n        return httpEtagService.getItemCache(cacheId, itemKey)\n      }\n      adaptedCache.info = function adaptedCacheInfo () {\n        return cacheDefinitions[cacheId]\n      }\n      adaptedCache.isCache = true\n    })\n\n    httpEtagService.info = function httpEtagServiceInfo () {\n      return cacheDefinitions\n    }\n\n    httpEtagService.getCache = function httpEtagServiceGetCache (cacheId) {\n      var cache = adaptedCaches[processCacheId(cacheId)]\n      if (cache) return cache\n    }\n\n    httpEtagService.getItemCache = function httpEtagServiceGeItemCache (cacheId, itemKey) {\n      var cache = httpEtagService.getCache(cacheId)\n      var itemCache = {}\n      if (!cache) return\n\n      var methodMappings = [\n        ['set', 'setItem'],\n        ['get', 'getItem'],\n        ['$set', '$setItem'],\n        ['$get', '$getItem'],\n        ['unset', 'unsetItem'],\n        ['expire', 'expireItem'],\n        ['remove', 'removeItem']\n      ]\n\n      angular.forEach(methodMappings, function mapCacheMethdodsToItemCache (methods) {\n        itemCache[methods[0]] = angular.bind({}, cache[methods[1]], itemKey)\n      })\n\n      itemCache.info = function itemCacheInfo () {\n        var itemCacheInfo = cache.info()\n        itemCacheInfo.itemKey = itemKey\n        return itemCacheInfo\n      }\n\n      itemCache.isItemCache = true\n\n      return itemCache\n    }\n\n    httpEtagService.purgeCaches = function httpEtagPurgeCaches () {\n      angular.forEach(adaptedCaches, function (cache) {\n        cache.removeAllItems()\n      })\n    }\n\n    function processCacheId (cacheId) {\n      var type = typeof cacheId\n      var isDefined = type === 'number' || (type === 'string' && !!cacheId)\n      return isDefined ? cacheId : defaultCacheId\n    }\n\n    return httpEtagService\n  }]\n}\n","import angular from 'angular'\nimport objectKeys from 'object-keys'\nimport arrayMap from 'array-map'\n\nexport default httpEtagHttpDecorator\n\nhttpEtagHttpDecorator.$inject = ['$delegate', 'httpEtag']\n\nfunction httpEtagHttpDecorator ($delegate, httpEtag) {\n  var $http = $delegate\n  var cachableHttpMethods = [\n    'GET',\n    'JSONP'\n  ]\n\n  function $httpDecorator (httpConfig) {\n    var useLegacyPromiseExtensions = httpEtagHttpDecorator.useLegacyPromiseExtensions()\n    var hasConfig = !!httpConfig.etagCache\n    var isCacheableMethod = cachableHttpMethods.indexOf(httpConfig.method) >= 0\n    var isCachable = hasConfig && isCacheableMethod\n    var httpPromise\n\n    if (isCachable) {\n      var etagCacheConfig = processHttpConfigEtagValue(httpConfig)\n      if (etagCacheConfig) {\n        var itemCache = httpEtag.getItemCache(etagCacheConfig.id, etagCacheConfig.itemKey)\n        if (!itemCache) throw new Error('No defined ETag caches match specified cache ID')\n\n        var cacheInfo = itemCache.info()\n        var rawCacheData = itemCache.$get()\n        var cachedEtag = rawCacheData && rawCacheData.etagHeader\n        var cachedResponse = cachedEtag && rawCacheData.responseData\n\n        // Allow easy access to cache in interceptor\n        httpConfig.$$_itemCache = itemCache\n\n        if (cachedEtag) {\n          httpConfig.headers = angular.extend({}, httpConfig.headers, {\n            'If-None-Match': cachedEtag\n          })\n        }\n      }\n    }\n\n    httpPromise = $http.apply($http, arguments)\n    httpEtagPromiseFactory(httpPromise)\n\n    function httpEtagPromiseFactory (httpPromise) {\n      var then = httpPromise.then\n      var success = httpPromise.success\n\n      if (useLegacyPromiseExtensions) {\n        httpPromise.cached = function httpEtagPromiseCached (callback) {\n          if (rawCacheData && cacheInfo.cacheResponseData) {\n            callback(cachedResponse, 'cached', undefined, httpConfig, itemCache)\n          }\n          return httpPromise\n        }\n      } else {\n        httpPromise.cached = function deprecatedEtagPromiseCached () {\n          throw new Error('The method `cached` on the promise returned from `$http` has been disabled in favor of `ifCached`.')\n        }\n      }\n\n      httpPromise.ifCached = function httpEtagPromiseIfCached (callback) {\n        if (rawCacheData && cacheInfo.cacheResponseData) {\n          // We're simply mimicking the Angular API here, so... sorry, Standard.\n          // eslint-disable-next-line standard/no-callback-literal\n          callback({\n            data: cachedResponse,\n            status: 'cached',\n            headers: undefined,\n            config: httpConfig\n          }, itemCache)\n        }\n        return httpPromise\n      }\n\n      httpPromise.then = function httpEtagThenWrapper (successCallback, errorCallback, progressBackCallback) {\n        var thenPromise = then.apply(httpPromise, [\n          successCallback ? httpEtagSuccessWrapper : undefined,\n          errorCallback ? httpEtagErrorWrapper : undefined,\n          progressBackCallback\n        ])\n\n        function httpEtagSuccessWrapper (response) {\n          return successCallback(response, itemCache)\n        }\n\n        function httpEtagErrorWrapper (response) {\n          return errorCallback(response, itemCache)\n        }\n\n        return httpEtagPromiseFactory(thenPromise)\n      }\n\n      if (useLegacyPromiseExtensions && itemCache) {\n        httpPromise.success = function httpEtagPromiseSuccess (callback) {\n          var partializedCallback = partial(callback, undefined, undefined, undefined, undefined, itemCache)\n          return success.apply(httpPromise, [partializedCallback])\n        }\n      }\n\n      return httpPromise\n    }\n\n    return httpPromise\n  }\n\n  // Decorate the cachable shortcut methods, too\n  angular.forEach(cachableHttpMethods, function (httpMethod) {\n    var method = httpMethod.toLowerCase()\n    $httpDecorator[method] = function httpEtagHttpShortcutWrapper (url, config) {\n      config = angular.extend({}, config, {\n        method: httpMethod,\n        url: url\n      })\n\n      return $httpDecorator.call($http, config)\n    }\n  })\n\n  // Copy over all other properties and methods\n  angular.forEach($http, function copyHttpPropertyToDectorator (value, key) {\n    if (!$httpDecorator[key]) $httpDecorator[key] = value\n  })\n\n  /**\n   * HELPERS\n   */\n\n  function processHttpConfigEtagValue (httpConfig) {\n    var etagValue = httpConfig.etagCache\n    var etagValueType = typeof etagValue\n    var etagCacheConfig = {}\n\n    // Evaluate function first\n    if (etagValueType === 'function') {\n      etagValue = etagValue(httpConfig)\n      etagValueType = typeof etagValue\n    }\n\n    // Plain, cache, or itemCache objects\n    if (etagValueType === 'object') {\n      var id, itemKey\n\n      if (etagValue.isCache) {\n        id = etagValue.info().id\n        itemKey = generateCacheItemKey(httpConfig)\n      } else if (etagValue.isItemCache) {\n        id = etagValue.info().id\n        itemKey = etagValue.info().itemKey\n      } else {\n        id = etagValue.id\n        itemKey = etagValue.itemKey || generateCacheItemKey(httpConfig)\n      }\n\n      etagCacheConfig.id = id\n      etagCacheConfig.itemKey = itemKey\n    } else if (etagValueType === 'string') {\n      etagCacheConfig.id = etagValue\n      etagCacheConfig.itemKey = generateCacheItemKey(httpConfig)\n    } else if (etagValue === true) {\n      // Undefined cacheId will use the default cacheId as defined in provider\n      etagCacheConfig.itemKey = generateCacheItemKey(httpConfig)\n    } else return\n    return etagCacheConfig\n  }\n\n  function generateCacheItemKey (httpConfig) {\n    var url = httpConfig.url\n    var params = stringifyParams(httpConfig.params)\n    var joiner = ((params && url.indexOf('?') > 0) ? '&' : '?')\n    var queryString = (params && joiner + params) || ''\n    return url + queryString\n  }\n\n  // Based on npm package \"query-string\"\n  function stringifyParams (obj) {\n    return obj ? arrayMap(objectKeys(obj).sort(), function (key) {\n      var val = obj[key]\n\n      if (angular.isArray(val)) {\n        return arrayMap(val.sort(), function (val2) {\n          return encodeURIComponent(key) + '=' + encodeURIComponent(val2)\n        }).join('&')\n      }\n\n      return encodeURIComponent(key) + '=' + encodeURIComponent(val)\n    }).join('&') : ''\n  }\n\n  // http://ejohn.org/blog/partial-functions-in-javascript/\n  function partial (fn) {\n    var args = Array.prototype.slice.call(arguments, 1)\n    return function () {\n      var arg = 0\n      for (var i = 0; i < args.length && arg < arguments.length; i++) {\n        if (args[i] === undefined) args[i] = arguments[arg++]\n      }\n      return fn.apply(this, args)\n    }\n  }\n\n  return $httpDecorator\n}\n","export default httpEtagInterceptorFactory\n\nfunction httpEtagInterceptorFactory () {\n  function responseInterceptor (response) {\n    var itemCache = response.config.$$_itemCache\n\n    if (itemCache) {\n      var cacheInfo = itemCache.info()\n      var cacheResponseData = cacheInfo.cacheResponseData\n      var etag = response.headers().etag\n      var cacheData = {}\n\n      if (etag) {\n        cacheData.etagHeader = etag\n        if (cacheResponseData) cacheData.responseData = response.data\n        itemCache.$set(cacheData)\n      }\n\n      delete response.config.$$_itemCache\n    }\n\n    return response\n  }\n\n  return {\n    response: responseInterceptor\n  }\n}\n","import angular from 'angular'\n\nexport default cacheAdaptersConfig\n\ncacheAdaptersConfig.$inject = ['httpEtagProvider']\n\nfunction cacheAdaptersConfig (httpEtagProvider) {\n  httpEtagProvider\n\n    .defineCacheServiceAdapter('$cacheFactory', {\n      config: {\n        storesDeepCopies: false\n      },\n      methods: {\n        createCache: function createCache ($cacheFactory, cacheId, options) {\n          $cacheFactory(cacheId, options)\n        },\n        getCache: function getCache ($cacheFactory, cacheId) {\n          return $cacheFactory.get(cacheId)\n        },\n        setItem: function setItem (cache, itemKey, value) {\n          cache.put(itemKey, value)\n        },\n        getItem: function getItem (cache, itemKey) {\n          return cache.get(itemKey)\n        },\n        removeItem: function removeItem (cache, itemKey) {\n          cache.remove(itemKey)\n        },\n        removeAllItems: function removeAllItems (cache, itemKey) {\n          cache.removeAll()\n        }\n      }\n    })\n\n    .defineCacheServiceAdapter('localStorage', {\n      config: {\n        storesDeepCopies: true\n      },\n      methods: {\n        createCache: angular.noop,\n        getCache: function getCache (localStorage, cacheId) {\n          return cacheId\n        },\n        setItem: function setItem (cacheId, itemKey, value) {\n          try {\n            itemKey = cacheId + ':' + itemKey\n            localStorage.setItem(itemKey, JSON.stringify(value))\n          } catch (e) {\n\n          }\n        },\n        getItem: function getItem (cacheId, itemKey) {\n          itemKey = cacheId + ':' + itemKey\n          return JSON.parse(localStorage.getItem(itemKey))\n        },\n        removeItem: function removeItem (cacheId, itemKey) {\n          itemKey = cacheId + ':' + itemKey\n          localStorage.removeItem(itemKey)\n        },\n        removeAllItems: function removeAllItems (cacheId, itemKey) {\n          var keyPrefix = cacheId + ':'\n\n          angular.forEach(localStorage, function (value, key) {\n            if (key.indexOf(keyPrefix) === 0) {\n              localStorage.removeItem(key)\n            }\n          })\n        }\n      }\n    })\n\n    .defineCacheServiceAdapter('sessionStorage', {\n      config: {\n        storesDeepCopies: true\n      },\n      methods: {\n        createCache: angular.noop,\n        getCache: function getCache (sessionStorage, cacheId) {\n          return cacheId\n        },\n        setItem: function setItem (cacheId, itemKey, value) {\n          try {\n            itemKey = cacheId + ':' + itemKey\n            sessionStorage.setItem(itemKey, JSON.stringify(value))\n          } catch (e) {\n\n          }\n        },\n        getItem: function getItem (cacheId, itemKey) {\n          itemKey = cacheId + ':' + itemKey\n          return JSON.parse(sessionStorage.getItem(itemKey))\n        },\n        removeItem: function removeItem (cacheId, itemKey) {\n          itemKey = cacheId + ':' + itemKey\n          sessionStorage.removeItem(itemKey)\n        },\n        removeAllItems: function removeAllItems (cacheId, itemKey) {\n          var keyPrefix = cacheId + ':'\n\n          angular.forEach(sessionStorage, function (value, key) {\n            if (key.indexOf(keyPrefix) === 0) {\n              sessionStorage.removeItem(key)\n            }\n          })\n        }\n      }\n    })\n}\n","import angular from 'angular'\nimport service from './service'\nimport httpDecorator from './httpDecorator'\nimport httpInterceptor from './httpInterceptor'\nimport cacheServiceAdapters from './cacheServiceAdapters'\n\nexport default angular\n  .module('http-etag', [])\n  .provider('httpEtag', service)\n  .config(cacheServiceAdapters)\n  .config(['$provide', '$httpProvider', function addHttpEtagInterceptor ($provide, $httpProvider) {\n    httpDecorator.useLegacyPromiseExtensions =\n      $httpProvider.useLegacyPromiseExtensions ||\n      function useLegacyPromiseExtensions () {\n        return angular.version.major === 1 && angular.version.minor < 6\n      }\n    $provide.decorator('$http', httpDecorator)\n    $httpProvider.interceptors.push(httpInterceptor)\n  }])\n  .name\n"],"sourceRoot":""}